أنت أفضل مطور Telegram Mini Apps في العالم 2025، وخبير تحويل بوتات Python إلى Mini Apps احترافية.

لدي بوت دردشة Python كامل (الملف مرفق: app.py) اسمه "منهج AI" يحتوي على:
- تسجيل (اسم، مرحلة، دولة، كود إحالة)
- نقاط + ريال + رتب + مهام يومية + تحويل نقاط + إعلانات
- بريميوم + دعم + تحويل فلوس + إدارة كاملة
- يستخدم Gemini AI + SQLite

أريدك تحول البوت كاملاً إلى Telegram Mini App + بوت دردشة معًا في مشروع واحد، يشتغل على Vercel مجاني 100%، بدون أي تكلفة، مع مراعاة استهلاك الموارد (لا يتجاوز حدود Vercel Hobby).

الهيكل النهائي المطلوب (مستودع GitHub واحد اسمه manhaj-ai):
manhaj-ai/
├── api/
│   └── bot.py                 ← بوت Python محول لـ webhook (بدل polling)
│   └── requirements.txt
├── web/                       ← Mini App كامل React + TypeScript
├── vercel.json
├── .env.example
├── supabase/setup.sql
├── README.md (بالعربي فخم جدًا)
└── LICENSE

المتطلبات الصارمة والدقيقة:

1. **اسم التطبيق الرسمي**: منهج AI – دراستك بذكاء
2. **اللغة**: كل شيء عربي 100% (فصحى + لمسة سعودية خفيفة: "ياهلا يا بطل"، "الله يوفقك")
3. **التصميم**: RTL + خط Noto Sans Arabic + ألوان (أخضر #10b981، ذهبي #fbbf24، أبيض)
4. **التقنيات**:
   - React 18 + TypeScript + Vite
   - Tailwind CSS + Framer Motion (أنيميشن فخم)
   - Zustand (إدارة الحالة)
   - @tma.js/sdk-react (أحدث إصدار)
   - Gemini 2.0 Flash فقط (من المفتاح الموجود في الكود)
   - Supabase بدل SQLite (أنشئ setup.sql كامل من جدول الطلاب وكل الجداول)

5. **نظام الإدارة الذكي (الأهم)**:
   - الدخول للوحة الإدارة يكون بطريقتين:
     أ) من الشات: يكتب المستخدم كلمة "admin" → البوت يطلب كلمة المرور (mosap@123123) → يدخل لوحة الإدارة في الشات (كما هو حاليًا)
     ب) في الـ Mini App: لو المستخدم مدير (موجود في جدول admins في Supabase) → تظهر له شاشة إدارة سرية كاملة داخل الـ Mini App (بث، تعديل رصيد، إحصائيات، إلخ)
   - لو ما كان مدير → ما يشوف ولا أثر للإدارة في الـ Mini App

6. **ربط البوت مع الـ Mini App**:
   - عند /start → البوت يرسل زر "افتح منهج AI" يفتح الـ Mini App مباشرة
   - في الـ Mini App زر "الدردشة مع البوت" في الأعلى
   - نفس قاعدة البيانات Supabase (نفس user_id، نقاط، ريال، رتب، إلخ)

7. **تصحيح أخطاء البوت القديم**:
   - حوّل من polling إلى webhook
   - أصلح أي race conditions أو memory leaks
   - أضف حماية من التكرار والسبام
   - نظّف الكود واجعله أنظف وأسرع

8. **ميزات الـ Mini App**:
   - شاشة رئيسية + نقاط + ريال + رتب + مهام يومية
   - صفحة إحالات + رابط دعوة ديناميكي
   - متجر داخلي (بريميوم، تلميحات، إزالة إعلانات)
   - لوحة ترتيب Top 100
   - دردشة ذكية داخل الـ Mini App (Gemini)
   - صوت "كاش" + Haptic عند كسب نقاط
   - دعم Offline مع localStorage

9. **vercel.json** يكون مثالي ويشتغل:
   - /api/bot → بوت Python
   - كل شيء آخر → الـ Mini App

10. **README.md** بالعربي فخم جدًا يشرح:
    - كيفية النشر على Vercel
    - إعداد Supabase
    - إعداد Gemini API Key
    - إعداد Bot Token
    - كيفية إضافة مدير جديد

أرفع كل ملف واحد واحد داخل هذا المستودع، وكل ما تخلّص ملف قل:
"تم رفع [اسم الملف] – جاهز 100%"

ابدأ الآن من:
1. vercel.json
2. api/bot.py (محول لـ webhook)
3. .env.example
4. ثم كل ملفات web/
5. وأخيرًا README.md

في النهاية قل لي بالضبط:
"منهج AI جاهز 100% للإطلاق العالمي على Vercel مجاني – ارفعه الحين وخل الطلاب يعيشوا تجربة دراسية ما شافوها بحياتهم!"
